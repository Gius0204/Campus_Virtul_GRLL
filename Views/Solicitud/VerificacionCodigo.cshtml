@{
    Layout = null;
}

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <link rel="icon" type="image/png" sizes="32x32" href="/Img/Curso.png">
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/Solicitud.css" asp-append-version="true" />
    <title>Verificar Correo</title>
</head>
<body>
    <div class="container">
        <div class="title">Verificación de Correo</div>
        <p>Hemos enviado un código de verificación al correo <strong>@(ViewBag.CorreoVerificacion ?? "")</strong>. Ingrésalo para continuar con tu solicitud.</p>

        <form asp-action="VerificarCodigo" asp-controller="Solicitud" method="post" class="mt-3">
            @Html.AntiForgeryToken()
            <input type="hidden" name="Correo" value="@(ViewBag.CorreoVerificacion ?? "")" />
            <div class="input-box">
                <span class="details">Código de verificación</span>
                <input type="text" name="Codigo" placeholder="Ingresa el código" maxlength="6" required />
            </div>
            <div class="d-flex justify-content-between align-items-center mt-3">
                <a class="btn btn-secondary" href="@Url.Action("Solicitud","Solicitud")">← Volver</a>
                <div class="button">
                    <input type="submit" value="Verificar" class="btn btn-primary" />
                </div>
            </div>
        </form>

        @if (TempData["Error"] != null)
        {
            <div class="mensaje-overlay" id="overlay-error"></div>
            <div class="mensaje-externo mensaje-error" id="mensaje-error">
                <strong>✗</strong> @TempData["Error"]
            </div>
            <script>
                setTimeout(function(){
                    var mensaje = document.getElementById('mensaje-error');
                    var overlay = document.getElementById('overlay-error');
                    if (mensaje) mensaje.remove();
                    if (overlay) overlay.remove();
                }, 5000);
            </script>
        }
    </div>
</body>
</html>
